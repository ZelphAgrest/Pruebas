<!DOCTYPE html>
<html lang="es">
<head><meta charset="utf-8"><title>Encryptacion</title>
<script type="text/javascript">


function iniciar(){
var boton=document.getElementById('cifrar');//decía obtener
boton.addEventListener('click', obtener, false);
var boton2=document.getElementById('descifrar');//decía obtener
boton2.addEventListener('click', obtener2, false);

}
 
var arregloNo = [];
 
function ubicarme(posicion){

//var n1 = document.getElementById('lati').value;//toma la coordenada del cuadro de texto
//var n2 = document.getElementById('longi').value;//toma la coordenada de cuadro de texto
var latitud;
var longitud;
latitud=posicion.coords.latitude;
longitud=posicion.coords.longitude;
var n1 = parseInt(latitud);//redondea las coordenadas
var n2 = parseInt(longitud)*-1;//redondea las coordenadas
var st="";
var llave = n2-n1;
var lc;
//alert(n1+" "+n2);

var c=0;
var palabraencryp = document.getElementById('entrada').value;//Toma la palabra a cifrar


for (var i = 0; i< palabraencryp.length; i++) {
         var caracter = palabraencryp.charAt(i);//Hasta aquí se recorre la cadena
		if (caracter =="A"|| caracter =="a"){
			lc = 11+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}
			else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="B"|| caracter =="b"){
			lc = 25+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="C"|| caracter =="c"){
			lc = 23+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="D"|| caracter =="d"){
			lc = 13+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="E"|| caracter =="e"){
			lc = 3+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="F"|| caracter =="f"){
			lc = 14+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="G"|| caracter =="g"){
			lc = 15+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="H"|| caracter =="h"){
			lc = 16+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="I"|| caracter =="i"){
			lc = 8+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="J"|| caracter =="j"){
			lc = 17+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="K"|| caracter =="k"){
			lc = 18+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="L"|| caracter =="l"){
			lc = 19+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="M"|| caracter =="m"){
			lc = 27+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="N"|| caracter =="n"){
			lc = 26+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="Ñ"|| caracter =="ñ"){
			lc = 20+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="O"|| caracter =="o"){
			lc = 9+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="P"|| caracter =="p"){
			lc = 10+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="Q"|| caracter =="q"){
			lc = 1+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="R"|| caracter =="r"){
			lc = 4+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="S"|| caracter =="s"){
			lc = 12+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="T"|| caracter =="t"){
			lc = 5+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="U"|| caracter =="u"){
			lc = 7+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="V"|| caracter =="v"){
			lc = 24+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="W"|| caracter =="w"){
			lc = 2+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="X"|| caracter =="x"){
			lc = 22+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="Y"|| caracter =="y"){
			lc = 6+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		if (caracter =="Z"|| caracter =="z"){
			lc = 21+llave;
			if(lc<100){
				st= lc.toString();
				st= "00"+st;
				arregloNo[c]=st;
				c = c+1;
			}else{
			st= lc.toString();
			st= "0"+st;
				arregloNo[c]=st;
				c = c+1;
			}
		}
		
		
}
document.getElementById('salidita').value =arregloNo;



}
 

function desencriptar(posicion){
var latitud;
var longitud;
latitud=posicion.coords.latitude;
longitud=posicion.coords.longitude;
var n1 = parseInt(latitud);//redondea las coordenadas
var n2 = parseInt(longitud)*-1;//redondea las coordenadas
var band = true;
var llave =n2-n1;
var num;
var cadena="";
var palabraencryp = document.getElementById('salidita').value;//Toma la palabra a cifrar
var arreglito=palabraencryp.split(",");



for (var i = 0; i< arreglito.length; i++) { 
	var caracter = arreglito[i];

	num=caracter-llave;
	
	if (num == 11){
	cadena= cadena+"a";
	}
	if (num == 25){
	cadena= cadena+"b";
	}
	if (num == 23){
	cadena= cadena+"c";
	}
	if (num == 13){
	cadena= cadena+"d";
	}
	if (num == 3){
	cadena= cadena+"e";
	}
	if (num == 14){
	cadena= cadena+"f";
	}
	if (num == 15){
	cadena= cadena+"g";
	}
	if (num == 16){
	cadena= cadena+"h";
	}
	if (num == 8){
	cadena= cadena+"i";
	}
	if (num == 17){
	cadena= cadena+"j";
	}
	if (num == 18){
	cadena= cadena+"k";
	}
	if (num == 19){
	cadena= cadena+"l";
	}
	if (num == 27){
	cadena= cadena+"m";
	}
	if (num == 26){
	cadena= cadena+"n";
	}
	if (num == 20){
	cadena= cadena+"ñ";
	}
	if (num == 9){
	cadena= cadena+"o";
	}
	if (num == 10){
	cadena= cadena+"p";
	}
	if (num == 1){
	cadena= cadena+"q";
	}
	if (num == 4){
	cadena= cadena+"r";
	}
	if (num == 12){
	cadena= cadena+"s";
	}
	if (num == 5){
	cadena= cadena+"t";
	}
	if (num == 7){
	cadena= cadena+"u";
	}
	if (num == 24){
	cadena= cadena+"v";
	}
	if (num == 2){
	cadena= cadena+"w";
	}
	if (num == 22){
	cadena= cadena+"x";
	}
	if (num == 6){
	cadena= cadena+"y";
	}
	if (num == 21){
	cadena= cadena+"z";
	}
	
 
	}
 document.getElementById('salidadesencry').value =cadena;
 
 }
 

 
 
 
 function obtener(){navigator.geolocation.getCurrentPosition(ubicarme, gestionarErrores);}//donde dice ubicarme decía mostrar
 
 function obtener2(){navigator.geolocation.getCurrentPosition(desencriptar, gestionarErrores);}
 
function mostrar(posicion){
var ubicacion=document.getElementById('localizacion');
var datos='';
//var latitud;
//var longitud;
//datos+='Latitud: '+posicion.coords.latitude+'<br>';
//datos+='Longitud: '+posicion.coords.longitude+'<br>';
//datos+='Exactitud: '+posicion.coords.accuracy+' metros.<br>';
//ubicacion.innerHTML=datos;
//latitud=posicion.coords.latitude;
//longitud=posicion.coords.longitude;
//document.getElementById('lati').value = latitud;
//document.getElementById('longi').value = longitud;
}
 

 
function gestionarErrores(error){
alert('Error: '+error.code+' '+error.message+ '\n\nPor favor compruebe que está conectado '+
'a internet y habilite la opción permitir compartir ubicación física');
}
 
window.addEventListener('load', iniciar, false);
 
</script>
</head>
<body>
<div id="localizacion">
<p></p>
<p></p>
Escribe la palabra para encriptar <input type="text" id="entrada" name="entrada"/>
<button id="cifrar" onclick="ubicarme()">Encryptar</button>
<p></p>
<p></p>
La palabra encryptada es:
<p></p>
<p></p>
 <textarea name="mensaje" id="salidita" cols="60" rows="6" /> </textarea>
<p></p>
<p></p>
La palabra desencryptada es <input type="text" id="salidadesencry" name="salidadesencry"/>
<button id="descifrar" onclick="desencriptar()">Desencryptar</button>
</div>
</body>
</html>